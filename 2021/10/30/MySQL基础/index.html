<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width">
<meta name="theme-color" content="#222">
<meta name="generator" content="Hexo 5.4.0">


  <link rel="apple-touch-icon" sizes="180x180" href="/GameWill.github.io/images/apple-touch-icon-next.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/GameWill.github.io/images/favicon-32x32-next.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/GameWill.github.io/images/favicon-16x16-next.png">
  <link rel="mask-icon" href="/GameWill.github.io/images/logo.svg" color="#222">

<link rel="stylesheet" href="/GameWill.github.io/css/main.css">



<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@5.15.4/css/all.min.css" integrity="sha256-mUZM63G8m73Mcidfrv5E+Y61y7a12O5mW4ezU3bxqW4=" crossorigin="anonymous">
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/animate.css@3.1.1/animate.min.css" integrity="sha256-PR7ttpcvz8qrF57fur/yAx1qXMFJeJFiA6pSzWi0OIE=" crossorigin="anonymous">

<script class="next-config" data-name="main" type="application/json">{"hostname":"github.com","root":"/GameWill.github.io/","images":"/GameWill.github.io/images","scheme":"Pisces","darkmode":false,"version":"8.8.2","exturl":false,"sidebar":{"position":"left","display":"post","padding":18,"offset":12},"copycode":false,"bookmark":{"enable":false,"color":"#222","save":"auto"},"mediumzoom":false,"lazyload":false,"pangu":false,"comments":{"style":"tabs","active":null,"storage":true,"lazyload":false,"nav":null},"stickytabs":false,"motion":{"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"fadeInDown","post_body":"fadeInDown","coll_header":"fadeInLeft","sidebar":"fadeInUp"}},"prism":false,"i18n":{"placeholder":"Searching...","empty":"We didn't find any results for the search: ${query}","hits_time":"${hits} results found in ${time} ms","hits":"${hits} results found"},"path":"/GameWill.github.io/search.xml","localsearch":{"enable":true,"trigger":"auto","top_n_per_article":1,"unescape":false,"preload":false}}</script><script src="/GameWill.github.io/js/config.js"></script>
<meta name="description" content="MySQL是一种关系型数据库管理系统，关系数据库将数据保存在不同的表中，而不是将所有数据放在一个大仓库内，这样就增加了速度并提高了灵活性。MySQL所使用的 SQL 语言是用于访问数据库的最常用标准化语言。MySQL 软件采用了双授权政策，分为社区版和商业版，由于其体积小、速度快、总体拥有成本低，尤其是开放源码这一特点，一般中小型和大型网站的开发都选择 MySQL 作为网站数据库。MySQL5">
<meta property="og:type" content="article">
<meta property="og:title" content="MySQL基础">
<meta property="og:url" content="https://github.com/LittleWills/GameWill.github.io.git/2021/10/30/MySQL%E5%9F%BA%E7%A1%80/index.html">
<meta property="og:site_name" content="L Blog">
<meta property="og:description" content="MySQL是一种关系型数据库管理系统，关系数据库将数据保存在不同的表中，而不是将所有数据放在一个大仓库内，这样就增加了速度并提高了灵活性。MySQL所使用的 SQL 语言是用于访问数据库的最常用标准化语言。MySQL 软件采用了双授权政策，分为社区版和商业版，由于其体积小、速度快、总体拥有成本低，尤其是开放源码这一特点，一般中小型和大型网站的开发都选择 MySQL 作为网站数据库。MySQL5">
<meta property="og:locale" content="en_US">
<meta property="og:image" content="https://github.com/LittleWills/GameWill.github.io.git/2021/10/30/MySQL%E5%9F%BA%E7%A1%80/image/image_wMcCvYxq-o.png">
<meta property="article:published_time" content="2021-10-30T09:47:13.000Z">
<meta property="article:modified_time" content="2022-05-10T13:59:37.946Z">
<meta property="article:author" content="Little Will">
<meta property="article:tag" content="MySQL">
<meta property="article:tag" content="MySQL基础">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://github.com/LittleWills/GameWill.github.io.git/2021/10/30/MySQL%E5%9F%BA%E7%A1%80/image/image_wMcCvYxq-o.png">


<link rel="canonical" href="https://github.com/LittleWills/GameWill.github.io.git/2021/10/30/MySQL%E5%9F%BA%E7%A1%80/">



<script class="next-config" data-name="page" type="application/json">{"sidebar":"","isHome":false,"isPost":true,"lang":"en","comments":true,"permalink":"https://github.com/LittleWills/GameWill.github.io.git/2021/10/30/MySQL%E5%9F%BA%E7%A1%80/","path":"2021/10/30/MySQL基础/","title":"MySQL基础"}</script>

<script class="next-config" data-name="calendar" type="application/json">""</script>
<title>MySQL基础 | L Blog</title>
  




  <noscript>
    <link rel="stylesheet" href="/GameWill.github.io/css/noscript.css">
  </noscript>
<link rel="alternate" href="/GameWill.github.io/atom.xml" title="L Blog" type="application/atom+xml">
</head>

<body itemscope itemtype="http://schema.org/WebPage" class="use-motion">
  <div class="headband"></div>

  <main class="main">
    <header class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-container">
  <div class="site-nav-toggle">
    <div class="toggle" aria-label="Toggle navigation bar" role="button">
        <span class="toggle-line"></span>
        <span class="toggle-line"></span>
        <span class="toggle-line"></span>
    </div>
  </div>

  <div class="site-meta">

    <a href="/GameWill.github.io/" class="brand" rel="start">
      <i class="logo-line"></i>
      <p class="site-title">L Blog</p>
      <i class="logo-line"></i>
    </a>
      <p class="site-subtitle" itemprop="description">Record growth.</p>
  </div>

  <div class="site-nav-right">
    <div class="toggle popup-trigger">
        <i class="fa fa-search fa-fw fa-lg"></i>
    </div>
  </div>
</div>



<nav class="site-nav">
  <ul class="main-menu menu">
        <li class="menu-item menu-item-home"><a href="/GameWill.github.io/" rel="section"><i class="fa fa-home fa-fw"></i>Home</a></li>
        <li class="menu-item menu-item-categories"><a href="/GameWill.github.io/categories/" rel="section"><i class="fa fa-th fa-fw"></i>Categories</a></li>
        <li class="menu-item menu-item-tags"><a href="/GameWill.github.io/tags/" rel="section"><i class="fa fa-tags fa-fw"></i>Tags</a></li>
      <li class="menu-item menu-item-search">
        <a role="button" class="popup-trigger"><i class="fa fa-search fa-fw"></i>Search
        </a>
      </li>
  </ul>
</nav>



  <div class="search-pop-overlay">
    <div class="popup search-popup"><div class="search-header">
  <span class="search-icon">
    <i class="fa fa-search"></i>
  </span>
  <div class="search-input-container">
    <input autocomplete="off" autocapitalize="off" maxlength="80"
           placeholder="Searching..." spellcheck="false"
           type="search" class="search-input">
  </div>
  <span class="popup-btn-close" role="button">
    <i class="fa fa-times-circle"></i>
  </span>
</div>
<div class="search-result-container no-result">
  <div class="search-result-icon">
    <i class="fa fa-spinner fa-pulse fa-5x"></i>
  </div>
</div>

    </div>
  </div>

</div>
        
  
  <div class="toggle sidebar-toggle" role="button">
    <span class="toggle-line"></span>
    <span class="toggle-line"></span>
    <span class="toggle-line"></span>
  </div>

  <aside class="sidebar">

    <div class="sidebar-inner sidebar-nav-active sidebar-toc-active">
      <ul class="sidebar-nav">
        <li class="sidebar-nav-toc">
          Table of Contents
        </li>
        <li class="sidebar-nav-overview">
          Overview
        </li>
      </ul>

      <div class="sidebar-panel-container">
        <!--noindex-->
        <div class="post-toc-wrap sidebar-panel">
            <div class="post-toc animated"><ol class="nav"><li class="nav-item nav-level-1"><a class="nav-link" href="#MySQL%E5%9F%BA%E7%A1%80"><span class="nav-number">1.</span> <span class="nav-text">MySQL基础</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#DDL%E8%AF%AD%E5%8F%A5%EF%BC%88%E6%95%B0%E6%8D%AE%E5%AE%9A%E4%B9%89%E8%AF%AD%E8%A8%80-%EF%BC%89"><span class="nav-number">2.</span> <span class="nav-text">DDL语句（数据定义语言 ）</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#%E5%BA%93%E5%92%8C%E8%A1%A8%E7%9A%84%E7%AE%A1%E7%90%86"><span class="nav-number">2.1.</span> <span class="nav-text">库和表的管理</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%BA%93%E7%9A%84%E7%AE%A1%E7%90%86"><span class="nav-number">2.1.1.</span> <span class="nav-text">库的管理</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E8%A1%A8%E7%9A%84%E7%AE%A1%E7%90%86"><span class="nav-number">2.1.2.</span> <span class="nav-text">表的管理</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E5%B8%B8%E8%A7%81%E7%B1%BB%E5%9E%8B"><span class="nav-number">2.2.</span> <span class="nav-text">常见类型</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E5%B8%B8%E8%A7%81%E7%BA%A6%E6%9D%9F"><span class="nav-number">2.3.</span> <span class="nav-text">常见约束</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#DML%E8%AF%AD%E8%A8%80%EF%BC%88%E6%95%B0%E6%8D%AE%E6%93%8D%E7%BA%B5%E8%AF%AD%E8%A8%80%EF%BC%89"><span class="nav-number">3.</span> <span class="nav-text">DML语言（数据操纵语言）</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#%E6%8F%92%E5%85%A5"><span class="nav-number">3.1.</span> <span class="nav-text">插入</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E4%BF%AE%E6%94%B9"><span class="nav-number">3.2.</span> <span class="nav-text">修改</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E5%88%A0%E9%99%A4"><span class="nav-number">3.3.</span> <span class="nav-text">删除</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#delete%E8%AF%AD%E5%8F%A5-x20"><span class="nav-number">3.3.1.</span> <span class="nav-text">delete语句 </span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#truncate%E8%AF%AD%E5%8F%A5"><span class="nav-number">3.3.2.</span> <span class="nav-text">truncate语句</span></a></li></ol></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#DQL%E8%AF%AD%E5%8F%A5%EF%BC%88%E6%95%B0%E6%8D%AE%E6%9F%A5%E8%AF%A2%E8%AF%AD%E8%A8%80%EF%BC%89"><span class="nav-number">4.</span> <span class="nav-text">DQL语句（数据查询语言）</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#%E5%9F%BA%E7%A1%80%E6%9F%A5%E8%AF%A2"><span class="nav-number">4.1.</span> <span class="nav-text">基础查询</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E6%9D%A1%E4%BB%B6%E6%9F%A5%E8%AF%A2"><span class="nav-number">4.2.</span> <span class="nav-text">条件查询</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E6%8E%92%E5%BA%8F%E6%9F%A5%E8%AF%A2"><span class="nav-number">4.3.</span> <span class="nav-text">排序查询</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E5%B8%B8%E8%A7%81%E5%87%BD%E6%95%B0"><span class="nav-number">4.4.</span> <span class="nav-text">常见函数</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E5%88%86%E7%BB%84%E6%9F%A5%E8%AF%A2"><span class="nav-number">4.5.</span> <span class="nav-text">分组查询</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E5%A4%9A%E8%A1%A8%E8%BF%9E%E6%8E%A5%E6%9F%A5%E8%AF%A2"><span class="nav-number">4.6.</span> <span class="nav-text">多表连接查询</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E4%BC%A0%E7%BB%9F%E6%A8%A1%E5%BC%8F%E4%B8%8B%E7%9A%84%E8%BF%9E%E6%8E%A5-%EF%BC%9A%E7%AD%89%E5%80%BC%E8%BF%9E%E6%8E%A5%E2%80%94%E2%80%94%E9%9D%9E%E7%AD%89%E5%80%BC%E8%BF%9E%E6%8E%A5"><span class="nav-number">4.6.1.</span> <span class="nav-text">传统模式下的连接 ：等值连接——非等值连接</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#sql99%E8%AF%AD%E6%B3%95%EF%BC%9A%E9%80%9A%E8%BF%87join%E5%85%B3%E9%94%AE%E5%AD%97%E5%AE%9E%E7%8E%B0%E8%BF%9E%E6%8E%A5"><span class="nav-number">4.6.2.</span> <span class="nav-text">sql99语法：通过join关键字实现连接</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E8%87%AA%E8%BF%9E%E6%8E%A5"><span class="nav-number">4.6.3.</span> <span class="nav-text">自连接</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E5%AD%90%E6%9F%A5%E8%AF%A2"><span class="nav-number">4.7.</span> <span class="nav-text">子查询</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E5%88%86%E9%A1%B5%E6%9F%A5%E8%AF%A2"><span class="nav-number">4.8.</span> <span class="nav-text">分页查询</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E8%81%94%E5%90%88%E6%9F%A5%E8%AF%A2"><span class="nav-number">4.9.</span> <span class="nav-text">联合查询</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#%E5%AD%98%E5%82%A8%E8%BF%87%E7%A8%8B"><span class="nav-number">5.</span> <span class="nav-text">存储过程</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#%E4%B8%89%E5%A4%A7%E8%8C%83%E5%BC%8F"><span class="nav-number">6.</span> <span class="nav-text">三大范式</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#%E7%AC%AC%E4%B8%80%E8%8C%83%E5%BC%8F%EF%BC%881NF%EF%BC%89%E5%88%97%E4%B8%8D%E5%8F%AF%E5%86%8D%E5%88%86"><span class="nav-number">6.1.</span> <span class="nav-text">第一范式（1NF）列不可再分</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E7%AC%AC%E4%BA%8C%E8%8C%83%E5%BC%8F%EF%BC%882NF%EF%BC%89%E5%B1%9E%E6%80%A7%E5%AE%8C%E5%85%A8%E4%BE%9D%E8%B5%96%E4%BA%8E%E4%B8%BB%E9%94%AE"><span class="nav-number">6.2.</span> <span class="nav-text">第二范式（2NF）属性完全依赖于主键</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E7%AC%AC%E4%B8%89%E8%8C%83%E5%BC%8F%EF%BC%883NF%EF%BC%89%E5%B1%9E%E6%80%A7%E4%B8%8D%E4%BE%9D%E8%B5%96%E4%BA%8E%E5%85%B6%E5%AE%83%E9%9D%9E%E4%B8%BB%E5%B1%9E%E6%80%A7-%E5%B1%9E%E6%80%A7%E7%9B%B4%E6%8E%A5%E4%BE%9D%E8%B5%96%E4%BA%8E%E4%B8%BB%E9%94%AE"><span class="nav-number">6.3.</span> <span class="nav-text">第三范式（3NF）属性不依赖于其它非主属性    属性直接依赖于主键</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#%E4%BA%8B%E5%8A%A1"><span class="nav-number">7.</span> <span class="nav-text">事务</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#%E4%BA%8B%E5%8A%A1%E5%9B%9B%E5%A4%A7%E7%89%B9%E5%BE%81"><span class="nav-number">7.1.</span> <span class="nav-text">事务四大特征</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E5%9B%9B%E7%A7%8D%E9%9A%94%E7%A6%BB%E7%BA%A7%E5%88%AB"><span class="nav-number">7.2.</span> <span class="nav-text">四种隔离级别</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#%E8%A7%86%E5%9B%BE"><span class="nav-number">8.</span> <span class="nav-text">视图</span></a></li></ol></div>
        </div>
        <!--/noindex-->

        <div class="site-overview-wrap sidebar-panel">
          <div class="site-author site-overview-item animated" itemprop="author" itemscope itemtype="http://schema.org/Person">
    <img class="site-author-image" itemprop="image" alt="Little Will"
      src="/GameWill.github.io/images/wuhuang.jpg">
  <p class="site-author-name" itemprop="name">Little Will</p>
  <div class="site-description" itemprop="description">God helps those who help themselves.</div>
</div>
<div class="site-state-wrap site-overview-item animated">
  <nav class="site-state">
      <div class="site-state-item site-state-posts">
        <a href="/GameWill.github.io/archives/">
          <span class="site-state-item-count">9</span>
          <span class="site-state-item-name">posts</span>
        </a>
      </div>
      <div class="site-state-item site-state-categories">
          <a href="/GameWill.github.io/categories/">
        <span class="site-state-item-count">11</span>
        <span class="site-state-item-name">categories</span></a>
      </div>
      <div class="site-state-item site-state-tags">
          <a href="/GameWill.github.io/tags/">
        <span class="site-state-item-count">12</span>
        <span class="site-state-item-name">tags</span></a>
      </div>
  </nav>
</div>



        </div>
      </div>
    </div>
  </aside>
  <div class="sidebar-dimmer"></div>


    </header>

    
  <div class="back-to-top" role="button" aria-label="Back to top">
    <i class="fa fa-arrow-up"></i>
    <span>0%</span>
  </div>

  <a href="https://github.com/LittleWills" class="github-corner" title="Follow me on GitHub" aria-label="Follow me on GitHub"><svg width="80" height="80" viewBox="0 0 250 250" aria-hidden="true"><path d="M0,0 L115,115 L130,115 L142,142 L250,250 L250,0 Z"></path><path d="M128.3,109.0 C113.8,99.7 119.0,89.6 119.0,89.6 C122.0,82.7 120.5,78.6 120.5,78.6 C119.2,72.0 123.4,76.3 123.4,76.3 C127.3,80.9 125.5,87.3 125.5,87.3 C122.9,97.6 130.6,101.9 134.4,103.2" fill="currentColor" style="transform-origin: 130px 106px;" class="octo-arm"></path><path d="M115.0,115.0 C114.9,115.1 118.7,116.5 119.8,115.4 L133.7,101.6 C136.9,99.2 139.9,98.4 142.2,98.6 C133.8,88.0 127.5,74.4 143.8,58.0 C148.5,53.4 154.0,51.2 159.7,51.0 C160.3,49.4 163.2,43.6 171.4,40.1 C171.4,40.1 176.1,42.5 178.8,56.2 C183.1,58.6 187.2,61.8 190.9,65.4 C194.5,69.0 197.7,73.2 200.1,77.6 C213.8,80.2 216.3,84.9 216.3,84.9 C212.7,93.1 206.9,96.0 205.4,96.6 C205.1,102.4 203.0,107.8 198.3,112.5 C181.9,128.9 168.3,122.5 157.7,114.1 C157.9,116.9 156.7,120.9 152.7,124.9 L141.0,136.5 C139.8,137.7 141.6,141.9 141.8,141.8 Z" fill="currentColor" class="octo-body"></path></svg></a>

<noscript>
  <div class="noscript-warning">Theme NexT works best with JavaScript enabled</div>
</noscript>


    <div class="main-inner post posts-expand">


  


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="en">
    <link itemprop="mainEntityOfPage" href="https://github.com/LittleWills/GameWill.github.io.git/2021/10/30/MySQL%E5%9F%BA%E7%A1%80/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/GameWill.github.io/images/wuhuang.jpg">
      <meta itemprop="name" content="Little Will">
      <meta itemprop="description" content="God helps those who help themselves.">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="L Blog">
    </span>
      <header class="post-header">
        <h1 class="post-title" itemprop="name headline">
          MySQL基础
        </h1>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">Posted on</span>

      <time title="Created: 2021-10-30 17:47:13" itemprop="dateCreated datePublished" datetime="2021-10-30T17:47:13+08:00">2021-10-30</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-folder"></i>
      </span>
      <span class="post-meta-item-text">In</span>
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/GameWill.github.io/categories/MySQL/" itemprop="url" rel="index"><span itemprop="name">MySQL</span></a>
        </span>
          , 
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/GameWill.github.io/categories/MySQL/MySQL%E5%9F%BA%E7%A1%80/" itemprop="url" rel="index"><span itemprop="name">MySQL基础</span></a>
        </span>
    </span>

  
    <span class="post-meta-break"></span>
    <span class="post-meta-item" title="Symbols count in article">
      <span class="post-meta-item-icon">
        <i class="far fa-file-word"></i>
      </span>
      <span class="post-meta-item-text">Symbols count in article: </span>
      <span>10k</span>
    </span>
    <span class="post-meta-item" title="Reading time">
      <span class="post-meta-item-icon">
        <i class="far fa-clock"></i>
      </span>
      <span class="post-meta-item-text">Reading time &asymp;</span>
      <span>9 mins.</span>
    </span>
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
        <hr>
<blockquote>
<p>MySQL是一种关系型数据库管理系统，关系数据库将数据保存在不同的表中，而不是将所有数据放在一个大仓库内，这样就增加了速度并提高了灵活性。MySQL所使用的 SQL 语言是用于访问数据库的最常用标准化语言。MySQL 软件采用了双授权政策，分为社区版和商业版，由于其体积小、速度快、总体拥有成本低，尤其是开放源码这一特点，一般中小型和大型网站的开发都选择 MySQL 作为网站数据库。MySQL5 支持事务、视图、存储过程、触发器等。</p>
</blockquote>
<span id="more"></span>
<h1 id="MySQL基础"><a href="#MySQL基础" class="headerlink" title="MySQL基础"></a>MySQL基础</h1><h1 id="DDL语句（数据定义语言-）"><a href="#DDL语句（数据定义语言-）" class="headerlink" title="DDL语句（数据定义语言 ）"></a>DDL语句（数据定义语言 ）</h1><h2 id="库和表的管理"><a href="#库和表的管理" class="headerlink" title="库和表的管理"></a>库和表的管理</h2><h3 id="库的管理"><a href="#库的管理" class="headerlink" title="库的管理"></a>库的管理</h3><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"># 创建库</span><br><span class="line"><span class="keyword">create</span> database 库名</span><br><span class="line"># 删除库</span><br><span class="line"><span class="keyword">drop</span> database 库名</span><br></pre></td></tr></table></figure>

<h3 id="表的管理"><a href="#表的管理" class="headerlink" title="表的管理"></a>表的管理</h3><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"># 创建表  </span><br><span class="line"><span class="keyword">CREATE</span> <span class="keyword">TABLE</span> IF <span class="keyword">NOT</span> <span class="keyword">EXISTS</span> stuinfo(</span><br><span class="line">    stuId <span class="type">INT</span>,</span><br><span class="line">    stuName <span class="type">VARCHAR</span>(<span class="number">20</span>),</span><br><span class="line">    gender <span class="type">CHAR</span>,</span><br><span class="line">    bornDate DATETIME</span><br><span class="line">);  </span><br><span class="line"></span><br><span class="line"><span class="keyword">DESC</span> studentinfo;</span><br><span class="line"># 修改表 <span class="keyword">alter</span></span><br><span class="line"><span class="keyword">ALTER</span> <span class="keyword">TABLE</span> 表名 <span class="keyword">ADD</span><span class="operator">|</span>MODIFY<span class="operator">|</span><span class="keyword">DROP</span><span class="operator">|</span>CHANGE <span class="keyword">COLUMN</span> 字段名 【字段类型】;</span><br><span class="line">​</span><br><span class="line"># 修改字段名</span><br><span class="line"><span class="keyword">ALTER</span> <span class="keyword">TABLE</span> studentinfo CHANGE  <span class="keyword">COLUMN</span> sex gender <span class="type">CHAR</span>;</span><br><span class="line">​</span><br><span class="line"># 修改表名</span><br><span class="line"><span class="keyword">ALTER</span> <span class="keyword">TABLE</span> stuinfo RENAME [<span class="keyword">TO</span>]  studentinfo;</span><br><span class="line">#③修改字段类型和列级约束</span><br><span class="line"><span class="keyword">ALTER</span> <span class="keyword">TABLE</span> studentinfo MODIFY <span class="keyword">COLUMN</span> borndate <span class="type">DATE</span>;</span><br><span class="line">​</span><br><span class="line"># 添加字段​</span><br><span class="line"><span class="keyword">ALTER</span> <span class="keyword">TABLE</span> studentinfo <span class="keyword">ADD</span> <span class="keyword">COLUMN</span> email <span class="type">VARCHAR</span>(<span class="number">20</span>) <span class="keyword">first</span>;</span><br><span class="line"></span><br><span class="line"># 删除字段</span><br><span class="line"><span class="keyword">ALTER</span> <span class="keyword">TABLE</span> studentinfo <span class="keyword">DROP</span> <span class="keyword">COLUMN</span> email;</span><br><span class="line"></span><br><span class="line"># 删除表  </span><br><span class="line"><span class="keyword">DROP</span> <span class="keyword">TABLE</span> [IF <span class="keyword">EXISTS</span>] studentinfo;</span><br></pre></td></tr></table></figure>

<h2 id="常见类型"><a href="#常见类型" class="headerlink" title="常见类型"></a>常见类型</h2><p>整数型：一般采用int(11)、tinyint(4)、smallint(6)、mediumint(9)、bigint(20)</p>
<table>
<thead>
<tr>
<th>类型</th>
<th>描述</th>
</tr>
</thead>
<tbody><tr>
<td>tinyint(M)</td>
<td>单字节，8位 0~255</td>
</tr>
<tr>
<td>smallint(M)</td>
<td>两字节，16位 -2^15 (-32,768) ~ 2^15 - 1 (32,767)</td>
</tr>
<tr>
<td>int(M)</td>
<td>四字节，32位 -2^31 (-2,147,483,648) ~ 2^31 - 1 (2,147,483,647)</td>
</tr>
<tr>
<td>bigint(M)</td>
<td>八字节，64位 -2^63 (-9223372036854775808) 到 2^63-1 (9223372036854775807)</td>
</tr>
<tr>
<td>varchar(N)</td>
<td>字符，N最大可存储长度，超过部分会被忽略</td>
</tr>
</tbody></table>
<p>字符串型：字符串实际数据长度N <strong>0 &lt; N &lt; = 64</strong> 根据实际数据长度N，选择一个相近的2^n长度：varchar(8),varchar(16),varchar(32),varchar(64) 如：手机号11位，可以选择varchar(16)</p>
<ol>
<li><p> 1 bytes = 8 bit ,一个字节最多可以代表的数据长度是2的8次方 11111111 在计算机中也就是-128到127。</p>
</li>
<li><p> 使用2 ^ n长度是更好的磁盘或内存块对齐。</p>
</li>
<li><p> 对齐块更快。今天“块”的大小更大，内存和磁盘足够快，可以忽略对齐，对于非常大的块来说是非常重要的。 <strong>64 &lt; N</strong> 根据实际数据长度N，选择一个相近的2^n-1长度：varchar(127),varchar(255),varchar(511)</p>
</li>
<li><p> 收货地址接近100个字符，那么可以选择varchar(127)</p>
</li>
<li><p> 商品名称，接近256个字符，可以选择varchar(255)</p>
</li>
<li><p> 方便InnoDB建索引，对于 MyISAM，可以对前 1000 个字节做索引，对于 InnoDB，则只有 767 字节。（来源依据）。255X3=765</p>
</li>
<li><p> 少申请一个字节，记录字符串长度，一个8位的tinyint，可以表示的无符号数值的范围是，0-255，如果长度超过了255，需要在申请个字节。</p>
</li>
<li><p> 磁盘块和内存块对齐</p>
</li>
</ol>
<p>varchar(N)长度并不是越长，越好，需要选择一个合适的长度。 在内存中的操作方式，varchar也是按照最长的方式在内存中进行操作的。比如说要进行排序的时候，varcahr(100)是按照100这个长度来进行的，不合理的长度会浪费内存空间。&#x20;</p>
<h2 id="常见约束"><a href="#常见约束" class="headerlink" title="常见约束"></a>常见约束</h2><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">NOT</span> <span class="keyword">NULL</span></span><br><span class="line"><span class="keyword">DEFAULT</span></span><br><span class="line"><span class="keyword">UNIQUE</span></span><br><span class="line"><span class="keyword">CHECK</span></span><br><span class="line"><span class="keyword">PRIMARY</span> KEY</span><br><span class="line"><span class="keyword">FOREIGN</span> KEY</span><br></pre></td></tr></table></figure>

<h1 id="DML语言（数据操纵语言）"><a href="#DML语言（数据操纵语言）" class="headerlink" title="DML语言（数据操纵语言）"></a>DML语言（数据操纵语言）</h1><h2 id="插入"><a href="#插入" class="headerlink" title="插入"></a>插入</h2><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> 表名(字段名，...) <span class="keyword">values</span>(值<span class="number">1</span>，...);</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<ul>
<li><p>  字段类型和值类型一致或兼容，而且一一对应；</p>
</li>
<li><p>  可以为空的字段，可以不用插入值，或用null填充；</p>
</li>
<li><p>  不可以为空的字段，必须插入值；</p>
</li>
<li><p>  字段个数和值的个数必须一致；</p>
</li>
<li><p>  字段可以省略，但默认所有字段，并且顺序和表中的存储顺序一致。</p>
</li>
</ul>
<h2 id="修改"><a href="#修改" class="headerlink" title="修改"></a>修改</h2><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"># 单表</span><br><span class="line">update 表名 <span class="keyword">set</span> 字段<span class="operator">=</span>新值,字段<span class="operator">=</span>新值 [<span class="keyword">where</span> 条件]</span><br><span class="line"># 多表</span><br><span class="line">update 表<span class="number">1</span> 别名<span class="number">1</span>,表<span class="number">2</span> 别名<span class="number">2</span> <span class="keyword">set</span> 字段<span class="operator">=</span>新值，字段<span class="operator">=</span>新值 <span class="keyword">where</span> 连接条件 <span class="keyword">and</span> 筛选条件</span><br></pre></td></tr></table></figure>

<h2 id="删除"><a href="#删除" class="headerlink" title="删除"></a>删除</h2><h3 id="delete语句-x20"><a href="#delete语句-x20" class="headerlink" title="delete语句&#x20;"></a>delete语句&#x20;</h3><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"># 单表</span><br><span class="line"><span class="keyword">delete</span> <span class="keyword">from</span> 表名 [<span class="keyword">where</span> 筛选条件]</span><br><span class="line"># 多表</span><br><span class="line"><span class="keyword">delete</span> 别名<span class="number">1</span>，别名<span class="number">2</span> <span class="keyword">from</span> 表<span class="number">1</span> 别名<span class="number">1</span>，表<span class="number">2</span> 别名<span class="number">2</span> <span class="keyword">where</span> 连接条件 <span class="keyword">and</span> 筛选条件;  </span><br></pre></td></tr></table></figure>

<h3 id="truncate语句"><a href="#truncate语句" class="headerlink" title="truncate语句"></a>truncate语句</h3><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">truncate</span> <span class="keyword">table</span> 表名</span><br></pre></td></tr></table></figure>

<ul>
<li><p>  truncate不能加where条件，而delete可以加where条件；</p>
</li>
<li><p>  truncate的效率高一丢丢；</p>
</li>
<li><p>  ​truncate删除带自增长的列的表后，如果再插入数据，数据从1开始；</p>
</li>
<li><p>  delete删除带自增长列的表后，如果再插入数据，数据从上一次的断点处开始；</p>
</li>
<li><p>  truncate删除不能回滚，delete删除可以回滚。</p>
</li>
</ul>
<h1 id="DQL语句（数据查询语言）"><a href="#DQL语句（数据查询语言）" class="headerlink" title="DQL语句（数据查询语言）"></a>DQL语句（数据查询语言）</h1><h2 id="基础查询"><a href="#基础查询" class="headerlink" title="基础查询"></a>基础查询</h2><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> 要查询的东西 【<span class="keyword">FROM</span> 表名】;</span><br></pre></td></tr></table></figure>

<ul>
<li><p>  类似于Java中 :System.out.println(要打印的东西);</p>
</li>
<li><p>  通过select查询完的结果，是一个虚拟的表格，不是真实存在</p>
</li>
<li><p>  要查询的东西 可以是常量值、可以是表达式、可以是字段、可以是函数</p>
</li>
</ul>
<h2 id="条件查询"><a href="#条件查询" class="headerlink" title="条件查询"></a>条件查询</h2><p>根据条件过滤原始表的数据，查询到想要的数据</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">select</span> </span><br><span class="line">  要查询的字段<span class="operator">|</span>表达式<span class="operator">|</span>常量值<span class="operator">|</span>函数</span><br><span class="line"><span class="keyword">from</span> </span><br><span class="line">  表</span><br><span class="line"><span class="keyword">where</span> </span><br><span class="line">  条件 ;</span><br><span class="line">分类：</span><br><span class="line">一、条件表达式</span><br><span class="line">  示例：salary<span class="operator">&gt;</span><span class="number">10000</span></span><br><span class="line">  条件运算符：</span><br><span class="line">  <span class="operator">&gt;</span> <span class="operator">&lt;</span> <span class="operator">&gt;=</span> <span class="operator">&lt;=</span> <span class="operator">=</span> <span class="operator">!=</span> <span class="operator">&lt;&gt;</span></span><br><span class="line"></span><br><span class="line">二、逻辑表达式</span><br><span class="line">示例：salary<span class="operator">&gt;</span><span class="number">10000</span> <span class="operator">&amp;&amp;</span> salary<span class="operator">&lt;</span><span class="number">20000</span></span><br><span class="line"></span><br><span class="line">逻辑运算符：</span><br><span class="line">  <span class="keyword">and</span>（<span class="operator">&amp;&amp;</span>）:两个条件如果同时成立，结果为<span class="literal">true</span>，否则为<span class="literal">false</span></span><br><span class="line">  <span class="keyword">or</span>(<span class="operator">||</span>)：两个条件只要有一个成立，结果为<span class="literal">true</span>，否则为<span class="literal">false</span></span><br><span class="line">  <span class="keyword">not</span>(<span class="operator">!</span>)：如果条件成立，则<span class="keyword">not</span>后为<span class="literal">false</span>，否则为<span class="literal">true</span></span><br><span class="line"></span><br><span class="line">三、模糊查询</span><br><span class="line">示例：last_name <span class="keyword">like</span> <span class="string">&#x27;a%&#x27;</span></span><br></pre></td></tr></table></figure>

<h2 id="排序查询"><a href="#排序查询" class="headerlink" title="排序查询"></a>排序查询</h2><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">select</span></span><br><span class="line">  要查询的东西</span><br><span class="line"><span class="keyword">from</span></span><br><span class="line">  表</span><br><span class="line"><span class="keyword">where</span> </span><br><span class="line">  条件</span><br><span class="line"><span class="keyword">order</span> <span class="keyword">by</span> 排序的字段<span class="operator">|</span>表达式<span class="operator">|</span>函数<span class="operator">|</span>别名 [<span class="keyword">asc</span><span class="operator">|</span><span class="keyword">desc</span>]</span><br></pre></td></tr></table></figure>

<h2 id="常见函数"><a href="#常见函数" class="headerlink" title="常见函数"></a>常见函数</h2><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><span class="line">一、单行函数</span><br><span class="line"><span class="number">1</span>、字符函数</span><br><span class="line">  concat 拼接</span><br><span class="line">  substr 截取子串</span><br><span class="line">  upper 转换成大写</span><br><span class="line">  lower 转换成小写</span><br><span class="line">  trim 去前后指定的空格和字符</span><br><span class="line">  ltrim 去左边空格</span><br><span class="line">  rtrim 去右边空格</span><br><span class="line">  replace 替换</span><br><span class="line">  lpad 左填充</span><br><span class="line">  rpad 右填充</span><br><span class="line">  instr 返回子串第一次出现的索引</span><br><span class="line">  length 获取字节个数</span><br><span class="line"><span class="number">2</span>、数学函数</span><br><span class="line">  round 四舍五入</span><br><span class="line">  rand 随机数</span><br><span class="line">  floor 向下取整</span><br><span class="line">  ceil 向上取整</span><br><span class="line">  mod 取余</span><br><span class="line">  <span class="keyword">truncate</span> 截断</span><br><span class="line"><span class="number">3</span>、日期函数</span><br><span class="line">  now 当前系统日期<span class="operator">+</span>时间</span><br><span class="line">  curdate 当前系统日期</span><br><span class="line">  curtime 当前系统时间</span><br><span class="line">  str_to_date 将字符转换成日期</span><br><span class="line">  date_format 将日期转换成字符</span><br><span class="line"><span class="number">4</span>、流程控制函数</span><br><span class="line">  if 处理双分支</span><br><span class="line">  <span class="keyword">case</span>语句 处理多分支</span><br><span class="line">    情况<span class="number">1</span>：处理等值判断</span><br><span class="line">    情况<span class="number">2</span>：处理条件判断</span><br><span class="line"><span class="number">5</span>、其他函数</span><br><span class="line">  version 版本</span><br><span class="line">  database 当前库</span><br><span class="line">  <span class="keyword">user</span> 当前连接用户</span><br></pre></td></tr></table></figure>

<h2 id="分组查询"><a href="#分组查询" class="headerlink" title="分组查询"></a>分组查询</h2><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">select</span> 查询的字段，分组函数 <span class="keyword">from</span> 表 <span class="keyword">group</span> <span class="keyword">by</span> 分组的字段</span><br></pre></td></tr></table></figure>

<ul>
<li><p>  可以按单个字段分组 ；</p>
</li>
<li><p>  和分组函数一同查询的字段最好是分组后的字段 ；</p>
</li>
<li><p>  分组筛选</p>
</li>
</ul>
<table>
<thead>
<tr>
<th></th>
<th>针对的表</th>
<th>位置</th>
<th>关键字</th>
</tr>
</thead>
<tbody><tr>
<td>分组前筛选</td>
<td>原始表</td>
<td>group by的前面</td>
<td>where</td>
</tr>
<tr>
<td>分组后筛选</td>
<td>分组后的结果集</td>
<td>group by的后面</td>
<td>having</td>
</tr>
</tbody></table>
<ul>
<li><p>  可以按多个字段分组，字段之间用逗号隔开</p>
</li>
<li><p>  可以支持排序</p>
</li>
<li><p>  having后可以支持别名</p>
</li>
</ul>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"># 每个部门人数都有了，那如果我们想要进一步知道员工人数大于<span class="number">30000</span>的部门是哪些，这个时候就得用到<span class="keyword">HAVING</span>了。</span><br><span class="line"><span class="keyword">SELECT</span></span><br><span class="line">    ( <span class="keyword">SELECT</span> d.dept_name <span class="keyword">FROM</span> departments d <span class="keyword">WHERE</span> de.dept_no <span class="operator">=</span> d.dept_no ) <span class="keyword">AS</span> 部门,</span><br><span class="line">    <span class="built_in">count</span>( de.emp_no ) <span class="keyword">AS</span> 人数 </span><br><span class="line"><span class="keyword">FROM</span></span><br><span class="line">    dept_emp de </span><br><span class="line"><span class="keyword">WHERE</span></span><br><span class="line">    de.to_date <span class="operator">=</span> <span class="string">&#x27;9999-01-01&#x27;</span> </span><br><span class="line"><span class="keyword">GROUP</span> <span class="keyword">BY</span></span><br><span class="line">    de.dept_no </span><br><span class="line"><span class="keyword">HAVING</span></span><br><span class="line">    <span class="built_in">count</span>( de.emp_no ) <span class="operator">&gt;</span> <span class="number">30000</span> </span><br></pre></td></tr></table></figure>

<h2 id="多表连接查询"><a href="#多表连接查询" class="headerlink" title="多表连接查询"></a>多表连接查询</h2><p>笛卡尔乘积：如果连接条件省略或无效则会出现<br>解决办法：添加上连接条件</p>
<h3 id="传统模式下的连接-：等值连接——非等值连接"><a href="#传统模式下的连接-：等值连接——非等值连接" class="headerlink" title="传统模式下的连接 ：等值连接——非等值连接"></a>传统模式下的连接 ：等值连接——非等值连接</h3><ul>
<li><p>  等值连接的结果 = 多个表的交集；</p>
</li>
<li><p>  n表连接，至少需要n-1个连接条件；</p>
</li>
<li><p>  多个表不分主次，没有顺序要求；</p>
</li>
<li><p>  一般为表起别名，提高阅读性和性能。</p>
</li>
</ul>
<h3 id="sql99语法：通过join关键字实现连接"><a href="#sql99语法：通过join关键字实现连接" class="headerlink" title="sql99语法：通过join关键字实现连接"></a>sql99语法：通过join关键字实现连接</h3><p><img src="image/image_wMcCvYxq-o.png" alt="image"></p>
<p>含义：1999年推出的sql语法<br>支持：</p>
<ul>
<li><p>  等值连接、非等值连接（内连接）；</p>
</li>
<li><p>  外连接(左连接、右连接)；</p>
</li>
<li><p>  如果左表的某行在右表中没有匹配行，则在相关联的结果集行中右表的所有选择列表列均为空值；</p>
</li>
<li><p>  如果右表的某行在左表中没有匹配行，则将为左表返回空值。</p>
</li>
</ul>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">select</span> 字段，...</span><br><span class="line"><span class="keyword">from</span> 表<span class="number">1</span></span><br><span class="line">[<span class="keyword">inner</span><span class="operator">|</span><span class="keyword">left</span> <span class="keyword">outer</span><span class="operator">|</span><span class="keyword">right</span> <span class="keyword">outer</span><span class="operator">|</span><span class="keyword">cross</span>]<span class="keyword">join</span> 表<span class="number">2</span> <span class="keyword">on</span>  连接条件</span><br><span class="line">[<span class="keyword">inner</span><span class="operator">|</span><span class="keyword">left</span> <span class="keyword">outer</span><span class="operator">|</span><span class="keyword">right</span> <span class="keyword">outer</span><span class="operator">|</span><span class="keyword">cross</span>]<span class="keyword">join</span> 表<span class="number">3</span> <span class="keyword">on</span>  连接条件</span><br><span class="line">[<span class="keyword">where</span> 筛选条件]</span><br><span class="line">[<span class="keyword">group</span> <span class="keyword">by</span> 分组字段]</span><br><span class="line">[<span class="keyword">having</span> 分组后的筛选条件]</span><br><span class="line">[<span class="keyword">order</span> <span class="keyword">by</span> 排序的字段或表达式]</span><br></pre></td></tr></table></figure>

<p>好处：语句上，连接条件和筛选条件实现了分离，简洁明了！</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"># 所有有门派人员的信息（要求显示门派名称）</span><br><span class="line"><span class="keyword">SELECT</span> e.`name`,d.`deptName` <span class="keyword">FROM</span> t_emp e <span class="keyword">INNER</span> <span class="keyword">JOIN</span> t_dept d <span class="keyword">ON</span> e.`deptId`<span class="operator">=</span>d.`id`;</span><br><span class="line"># 列出所有人员及其门派信息</span><br><span class="line"><span class="keyword">SELECT</span> e.`name`,d.`deptName` <span class="keyword">FROM</span> t_emp e <span class="keyword">LEFT</span> <span class="keyword">JOIN</span> t_dept d <span class="keyword">ON</span> e.`deptId`<span class="operator">=</span>d.`id`;</span><br><span class="line"># 列出所有门派</span><br><span class="line"><span class="keyword">SELECT</span> <span class="operator">*</span> <span class="keyword">FROM</span> t_dept;</span><br><span class="line"># 所有无门派人士</span><br><span class="line"><span class="keyword">SELECT</span> <span class="operator">*</span> <span class="keyword">FROM</span> t_emp <span class="keyword">WHERE</span> deptId <span class="keyword">IS</span> <span class="keyword">NULL</span>;</span><br><span class="line"># 所有无人门派</span><br><span class="line"><span class="keyword">SELECT</span> d.<span class="operator">*</span> <span class="keyword">FROM</span>  t_dept d <span class="keyword">LEFT</span> <span class="keyword">JOIN</span> t_emp e <span class="keyword">ON</span> d.`id`<span class="operator">=</span>e.`deptId` <span class="keyword">WHERE</span> e.`deptId` <span class="keyword">IS</span> <span class="keyword">NULL</span>;</span><br><span class="line"># 所有人员和门派的对应关系</span><br><span class="line"><span class="keyword">SELECT</span> <span class="operator">*</span> <span class="keyword">FROM</span> t_emp e <span class="keyword">LEFT</span> <span class="keyword">JOIN</span> t_dept d <span class="keyword">ON</span> e.`deptId`<span class="operator">=</span>d.`id`</span><br><span class="line"><span class="keyword">UNION</span></span><br><span class="line"><span class="keyword">SELECT</span> <span class="operator">*</span> <span class="keyword">FROM</span> t_emp e <span class="keyword">RIGHT</span> <span class="keyword">JOIN</span> t_dept d <span class="keyword">ON</span> e.`deptId`<span class="operator">=</span>d.`id`;</span><br><span class="line"># 所有没有入门派的人员和没人入的门派</span><br><span class="line"><span class="keyword">SELECT</span> <span class="operator">*</span> <span class="keyword">FROM</span> t_emp e  <span class="keyword">LEFT</span> <span class="keyword">JOIN</span> t_dept d <span class="keyword">ON</span> e.`deptId`<span class="operator">=</span>d.`id` <span class="keyword">WHERE</span> e.deptId <span class="keyword">IS</span> <span class="keyword">NULL</span></span><br><span class="line"><span class="keyword">UNION</span></span><br><span class="line"><span class="keyword">SELECT</span> <span class="operator">*</span> <span class="keyword">FROM</span>  t_dept d <span class="keyword">LEFT</span> <span class="keyword">JOIN</span> t_emp e <span class="keyword">ON</span> d.`id`<span class="operator">=</span>e.`deptId` <span class="keyword">WHERE</span> e.`deptId` <span class="keyword">IS</span> <span class="keyword">NULL</span>;</span><br></pre></td></tr></table></figure>

<h3 id="自连接"><a href="#自连接" class="headerlink" title="自连接"></a>自连接</h3><p>案例：查询员工名和直接上级的名称</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"># sql99</span><br><span class="line"><span class="keyword">SELECT</span> e.last_name,m.last_name</span><br><span class="line"><span class="keyword">FROM</span> employees e</span><br><span class="line"><span class="keyword">JOIN</span> employees m <span class="keyword">ON</span> e.`manager_id`<span class="operator">=</span>m.`employee_id`;</span><br></pre></td></tr></table></figure>

<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"># sql92</span><br><span class="line"><span class="keyword">SELECT</span> e.last_name,m.last_name</span><br><span class="line"><span class="keyword">FROM</span> employees e,employees m </span><br><span class="line"><span class="keyword">WHERE</span> e.`manager_id`<span class="operator">=</span>m.`employee_id`;</span><br></pre></td></tr></table></figure>

<h2 id="子查询"><a href="#子查询" class="headerlink" title="子查询"></a>子查询</h2><p>一条查询语句中又嵌套了另一条完整的select语句，其中被嵌套的select语句，称为子查询或内查询<br>在外面的查询语句，称为主查询或外查询。</p>
<p>特点</p>
<ul>
<li><p>  子查询都放在小括号内；</p>
</li>
<li><p>  子查询可以放在from后面、select后面、where后面、having后面，但一般放在条件的右侧；</p>
</li>
<li><p>  子查询优先于主查询执行，主查询使用了子查询的执行结果；</p>
</li>
<li><p>  子查询根据查询结果的行数不同分为以下两类：</p>
</li>
</ul>
<p>① 单行子查询</p>
<p>结果集只有一行</p>
<p>一般搭配单行操作符使用：&gt; &lt; = &lt;&gt; &gt;= &lt;=&#x20;</p>
<p>非法使用子查询的情况：</p>
<p>a、子查询的结果为一组值</p>
<p>b、子查询的结果为空</p>
<p>② 多行子查询</p>
<p>结果集有多行</p>
<p>一般搭配多行操作符使用：any、all、in、not in</p>
<p>in： 属于子查询结果中的任意一个就行</p>
<p>any和all往往可以用其他查询代替</p>
<h2 id="分页查询"><a href="#分页查询" class="headerlink" title="分页查询"></a>分页查询</h2><p>实际的web项目中需要根据用户的需求提交对应的分页查询的sql语句</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">select</span> 字段<span class="operator">|</span>表达式,...</span><br><span class="line"><span class="keyword">from</span> 表</span><br><span class="line">[<span class="keyword">where</span> 条件]</span><br><span class="line">[<span class="keyword">group</span> <span class="keyword">by</span> 分组字段]</span><br><span class="line">[<span class="keyword">having</span> 条件]</span><br><span class="line">[<span class="keyword">order</span> <span class="keyword">by</span> 排序的字段]</span><br><span class="line">limit [起始的条目索引，]条目数;</span><br></pre></td></tr></table></figure>

<p>特点</p>
<ul>
<li><p>  起始条目索引从0开始；</p>
</li>
<li><p>  limit子句放在查询语句的最后</p>
</li>
<li><p>  公式：select * from  表 limit（page-1）* sizePerPage,sizePerPage（每页显示条目数sizePerPage、要显示的页数page）</p>
</li>
</ul>
<h2 id="联合查询"><a href="#联合查询" class="headerlink" title="联合查询"></a>联合查询</h2><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">select</span> 字段<span class="operator">|</span>常量<span class="operator">|</span>表达式<span class="operator">|</span>函数 [<span class="keyword">from</span> 表] [<span class="keyword">where</span> 条件] <span class="keyword">union</span> [<span class="keyword">all</span>]</span><br><span class="line"><span class="keyword">select</span> 字段<span class="operator">|</span>常量<span class="operator">|</span>表达式<span class="operator">|</span>函数 [<span class="keyword">from</span> 表] [<span class="keyword">where</span> 条件] <span class="keyword">union</span> [<span class="keyword">all</span>]</span><br><span class="line"><span class="keyword">select</span> 字段<span class="operator">|</span>常量<span class="operator">|</span>表达式<span class="operator">|</span>函数 [<span class="keyword">from</span> 表] [<span class="keyword">where</span> 条件] <span class="keyword">union</span> [<span class="keyword">all</span>]</span><br><span class="line">.....</span><br><span class="line"><span class="keyword">select</span> 字段<span class="operator">|</span>常量<span class="operator">|</span>表达式<span class="operator">|</span>函数 [<span class="keyword">from</span> 表] [<span class="keyword">where</span> 条件]</span><br></pre></td></tr></table></figure>

<p>特点</p>
<ul>
<li><p>  多条查询语句的查询的列数必须是一致的；</p>
</li>
<li><p>  多条查询语句的查询的列的类型几乎相同；</p>
</li>
<li><p>  union代表去重，union all代表不去重。</p>
</li>
</ul>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> id,name,age,classid,score </span><br><span class="line"><span class="keyword">FROM</span> tb_Student</span><br><span class="line"><span class="keyword">WHERE</span> age<span class="operator">&lt;=</span><span class="number">20</span></span><br><span class="line"><span class="keyword">UNION</span> <span class="keyword">ALL</span></span><br><span class="line"><span class="keyword">SELECT</span> id,name,age,classid,score </span><br><span class="line"><span class="keyword">FROM</span> tb_Student</span><br><span class="line"><span class="keyword">WHERE</span> score<span class="operator">&lt;</span><span class="number">90</span></span><br></pre></td></tr></table></figure>

<h1 id="存储过程"><a href="#存储过程" class="headerlink" title="存储过程"></a>存储过程</h1><p>含义：一组经过预先编译的sql语句的集合。</p>
<p>好处：提高了sql语句的重用性，减少了开发程序员的压力，提高了效率，减少了传输次数。</p>
<p>分类：</p>
<ul>
<li><p>  无返回无参；</p>
</li>
<li><p>  仅仅带in类型，无返回有参；</p>
</li>
<li><p>  仅仅带out类型，有返回无参；</p>
</li>
<li><p>  既带in又带out，有返回有参；</p>
</li>
<li><p>  带inout，有返回有参；</p>
</li>
<li><p>  注意：in、out、inout都可以在一个存储过程中带多个。</p>
</li>
</ul>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"># 创建存储过程</span><br><span class="line"><span class="keyword">create</span> <span class="keyword">procedure</span> 存储过程名(<span class="keyword">in</span><span class="operator">|</span><span class="keyword">out</span><span class="operator">|</span><span class="keyword">inout</span> 参数名 参数类型,...)</span><br><span class="line"><span class="keyword">begin</span></span><br><span class="line">存储过程体</span><br><span class="line"><span class="keyword">end</span></span><br><span class="line">类似于方法：</span><br><span class="line">修饰符 返回类型 方法名(参数类型 参数名,...)&#123;​</span><br><span class="line">方法体;</span><br><span class="line">&#125;</span><br><span class="line"># 注意：需要设置新的结束标记</span><br><span class="line">delimiter 新的结束标记</span><br><span class="line"></span><br><span class="line">delimiter $</span><br><span class="line">​</span><br><span class="line"><span class="keyword">CREATE</span> <span class="keyword">PROCEDURE</span> 存储过程名(<span class="keyword">IN</span><span class="operator">|</span><span class="keyword">OUT</span><span class="operator">|</span><span class="keyword">INOUT</span> 参数名 参数类型,...)</span><br><span class="line"><span class="keyword">BEGIN</span></span><br><span class="line"><span class="keyword">sql</span>语句<span class="number">1</span>;</span><br><span class="line"><span class="keyword">sql</span>语句<span class="number">2</span>;</span><br><span class="line"><span class="keyword">END</span> $</span><br><span class="line">​</span><br><span class="line"># 存储过程体中可以有多条<span class="keyword">sql</span>语句，如果仅仅一条<span class="keyword">sql</span>语句，则可以省略<span class="keyword">begin</span> <span class="keyword">end</span></span><br><span class="line">​</span><br><span class="line">#调用存储过程</span><br><span class="line">  <span class="keyword">call</span> 存储过程名(实参列表)</span><br><span class="line">##函数</span><br></pre></td></tr></table></figure>

<p>参数前面的符号的意思</p>
<ul>
<li><p>  in:该参数只能作为输入 （该参数不能做返回值）；</p>
</li>
<li><p>  out：该参数只能作为输出（该参数只能做返回值）；</p>
</li>
<li><p>  inout：既能做输入又能做输出。</p>
</li>
</ul>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"># 学过的函数：LENGTH、SUBSTR、CONCAT等</span><br><span class="line"><span class="keyword">CREATE</span> <span class="keyword">FUNCTION</span> 函数名(参数名 参数类型,...) <span class="keyword">RETURNS</span> 返回类型</span><br><span class="line"><span class="keyword">BEGIN</span></span><br><span class="line">函数体</span><br><span class="line"><span class="keyword">END</span></span><br><span class="line">###调用函数</span><br><span class="line">  <span class="keyword">SELECT</span> 函数名（实参列表）</span><br></pre></td></tr></table></figure>

<p>函数和存储过程的区别</p>
<table>
<thead>
<tr>
<th>关键字</th>
<th>调用语法</th>
<th>返回值</th>
<th>应用场景</th>
</tr>
</thead>
<tbody><tr>
<td>函数</td>
<td>FUNCTION SELECT 函数()</td>
<td>只能是一个</td>
<td>一般用于查询结果为一个值并返回时，当有返回值而且仅仅一个。</td>
</tr>
<tr>
<td>存储过程</td>
<td>PROCEDURE CALL 存储过程()</td>
<td>可以有0个或多个</td>
<td>一般用于更新。</td>
</tr>
</tbody></table>
<h1 id="三大范式"><a href="#三大范式" class="headerlink" title="三大范式"></a>三大范式</h1><p>数据库的设计范式是数据库设计所需要满足的规范，满足这些规范的数据库是简洁的、结构明晰的，同时，不会发生插入（insert）、删除（delete）和更新（update）操作异常。</p>
<h2 id="第一范式（1NF）列不可再分"><a href="#第一范式（1NF）列不可再分" class="headerlink" title="第一范式（1NF）列不可再分"></a>第一范式（1NF）列不可再分</h2><p>每一列属性都是不可再分的属性值，确保每一列的原子性；</p>
<p>两列的属性相近或相似或一样，尽量合并属性一样的列，确保不产生冗余数据。</p>
<h2 id="第二范式（2NF）属性完全依赖于主键"><a href="#第二范式（2NF）属性完全依赖于主键" class="headerlink" title="第二范式（2NF）属性完全依赖于主键"></a>第二范式（2NF）属性完全依赖于主键</h2><p>第二范式（2NF）是在第一范式（1NF）的基础上建立起来的，即满足第二范式（2NF）必须先满足第一范式（1NF）。第二范式（2NF）要求数据库表中的每个实例或行必须可以被唯一的区分。为实现区分通常需要为表加上一个列，以存储各个实例的惟一标识。这个惟一属性列被称为主键。</p>
<h2 id="第三范式（3NF）属性不依赖于其它非主属性-属性直接依赖于主键"><a href="#第三范式（3NF）属性不依赖于其它非主属性-属性直接依赖于主键" class="headerlink" title="第三范式（3NF）属性不依赖于其它非主属性    属性直接依赖于主键"></a>第三范式（3NF）属性不依赖于其它非主属性    属性直接依赖于主键</h2><p>数据不能存在传递关系，即每个属性都跟主键有直接关系而不是间接关系。像：a–&gt;b–&gt;c  属性之间含有这样的关系，是不符合第三范式的。</p>
<p>比如Student表（学号，姓名，年龄，性别，所在院校，院校地址，院校电话）</p>
<p>这样一个表结构，就存在上述关系。 学号–&gt; 所在院校 –&gt; (院校地址，院校电话)</p>
<p>这样的表结构，我们应该拆开来，如下：</p>
<p>（学号，姓名，年龄，性别，所在院校）–（所在院校，院校地址，院校电话）</p>
<p>总结：三大范式只是一般设计数据库的基本理念，可以建立冗余较小、结构合理的数据库。如果有特殊情况，当然要特殊对待，数据库设计最重要的是看需求跟性能，需求&gt;性能&gt;表结构。所以不能一味的去追求范式建立数据库。</p>
<h1 id="事务"><a href="#事务" class="headerlink" title="事务"></a>事务</h1><h2 id="事务四大特征"><a href="#事务四大特征" class="headerlink" title="事务四大特征"></a>事务四大特征</h2><p><strong>原子性：</strong> 本意是“不可再分”，事务的原子性表现为一个事务中涉及到的多个操作在逻辑上缺一不可。事务的原子性要求事务中所有操作要么执行，要么都不执行。</p>
<p><strong>一致性：</strong> 是指数据的一致，指：所有数据都处于满足业务规则的一致状态。一致性原则要求：一个事务中不管涉及到多少操作，都必须保证事务执行之前数据是正确的的。如果一个事务在执行的过程中，其中某一个或某几个操作失败了，则必须将其他所有操作撤销，将数据恢复到事务执行之前的状态，这就是回滚。</p>
<p><strong>隔离性：</strong> 在应用程序实际运行过程中，事务往往是并发执行的，所以很有可能有许多事务同时处理相同数据，因此每个事务都应该与其他事务隔离开来，防止数据顺怀。隔离性原则要求多个事务在并发执行过程中不会互相干扰。</p>
<p><strong>持久性：</strong> 持久性原则要求事务执行完成后，对数据的修改永久的保存下来，不会因各种事务错误或其他意外情况而受到影响。通常情况下，事务对数据的修改应该比写入到持久化存储器中。</p>
<h2 id="四种隔离级别"><a href="#四种隔离级别" class="headerlink" title="四种隔离级别"></a>四种隔离级别</h2><p><strong>未提交读：</strong> 如果一个事务正在写数据则另外一个事务不允许同时进行写操作，但允许其他事务读此行数据，该隔离级别可以通过“排它锁”，但是不排斥读线程实现，这样就避免了更新丢失，却可能出现脏读，（事务B读取到了事务A未提交的数据）。</p>
<p>如果一个事务正在写数据则另外一个事务不允许同时进行写操作，但允许其他事务读此行数据，这样就避免了更新丢失，却可能出现脏读（指一个事务中访问到了另外一个事务未提交的数据）。</p>
<p><strong>提交读：</strong> 写事务将会禁止其他事务访问该行数据，该隔离级别避免了脏读，但是可能出现不可重复读；如果一个读事务，则允许其他事务读写，如果事务A事先读取了数据，事务B紧接更新了数据，并提交了事务，而事务A再次读取该数据时，数据已经发生了改变(同一个事务中，多次读取到的数据不一致，如果事务A 按一定条件搜索， 期间事务B 删除了符合条件的某一条数据，导致事务A 再次读取时数据少了一条。这种情况归为 不可重复读)。</p>
<p>写事务将会禁止其他事务访问该行数据，该隔离级别避免了脏读，但是可能出现不可重复读（在一个事务内两次读到的数据不一样）；</p>
<p><strong>可重复读：</strong> 在一个事务内，多次读同一个数据，在这个事务还没结束时，其他事务不能访问该数据（包括读写），这样就可以在同一个事务内两次读到的数据是一样的，因此称为是可重复读隔离级别。但是有可能会出现幻读（事务A 按照一定条件进行数据读取， 期间事务B插入了相同搜索条件的新数据，事务A再次按照原先条件进行读取时，发现了事务B新插入的数据）。</p>
<p>在一个事务内，多次读同一个数据，在这个事务还没结束时，其他事务不能访问该数据（包括读写），该隔离级别避免了不可重复读，但是有可能会出现幻读（一个事务读取2次，得到的记录条数不一致）（通俗地讲，就是使用相同的条件进行两次查询 ,   第 1次查询和第 2次查询读出来的记录数不一样，原因就是另外一个事务新增或者删除了第一个事务结果集里面的数据）。</p>
<p><strong>可序列化：</strong> 它要求事务序列化执行，事务只能一个接着一个地执行，不能并发执行，单单“行级锁”，无法实现序列化，必须通过其他机制保证新插入的数据不会被执行查询操作的事务访问到。序列化是最高事务隔离级别，但代价是最高，性能很低，一般很少使用。MySQL默认可重复读。</p>
<p>通过设置事务的隔离级别</p>
<ul>
<li><p>  READ UNCOMMITTED；&#x20;</p>
</li>
<li><p>  READ COMMITTED 可以避免脏读；</p>
</li>
<li><p>  REPEATABLE READ 可以避免脏读、不可重复读和一部分幻读；</p>
</li>
<li><p>  SERIALIZABLE可以避免脏读、不可重复读和幻读。</p>
</li>
</ul>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"># 设置隔离级别：</span><br><span class="line"><span class="keyword">set</span> session <span class="operator">|</span> <span class="keyword">global</span> transaction isolation level 隔离级别名;</span><br><span class="line"># 查看隔离级别：</span><br><span class="line"><span class="keyword">select</span> @<span class="variable">@tx</span>_isolation;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p><strong>MySQL怎么保证原子性的？</strong></p>
<p>我们知道如果想要保证事务的原子性,就需要在异常发生时，对已经执行的操作进行回滚，在MySQL中，恢复机制是通过回滚日志（undo log）实现的,所有事务进行的修改都会先记录到这个回滚日志中，然后再执行相关的操作。如果执行过程中遇到异常的话,我们直接利用回滚日志中的信息将数据回滚到修改之前的样子即可！并且,回滚日志会先于数据持久化到磁盘上。这样就保证了即使遇到数据库突然宕机等情况,当用户再次启动数据库的时候,数据库还能够通过查询回滚日志来回滚将之前未完成的事务</p>
<h1 id="视图"><a href="#视图" class="headerlink" title="视图"></a>视图</h1><p>含义：理解成一张虚拟的表</p>
<p>视图和表的区别</p>
<table>
<thead>
<tr>
<th></th>
<th>使用方式</th>
<th>占用物理空间</th>
</tr>
</thead>
<tbody><tr>
<td>视图</td>
<td>完全相同</td>
<td>不占用，仅仅保存的是sql逻辑</td>
</tr>
<tr>
<td>表</td>
<td>完全相同</td>
<td>占用</td>
</tr>
</tbody></table>
<p>视图的好处：sql语句提高重用性，效率高，和表实现了分离，提高了安全性。</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"># 视图的创建</span><br><span class="line"><span class="keyword">CREATE</span> <span class="keyword">VIEW</span>  视图名</span><br><span class="line"><span class="keyword">AS</span></span><br><span class="line">查询语句;</span><br><span class="line"> </span><br><span class="line"># 视图的增删改查</span><br><span class="line"># 查看视图的数据 </span><br><span class="line"><span class="keyword">SELECT</span> <span class="operator">*</span> <span class="keyword">FROM</span> my_v4;</span><br><span class="line"><span class="keyword">SELECT</span> <span class="operator">*</span> <span class="keyword">FROM</span> my_v1 <span class="keyword">WHERE</span> last_name<span class="operator">=</span><span class="string">&#x27;Partners&#x27;</span>;</span><br><span class="line">​</span><br><span class="line"># 插入视图的数据</span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> my_v4(last_name,department_id) <span class="keyword">VALUES</span>(<span class="string">&#x27;虚竹&#x27;</span>,<span class="number">90</span>);</span><br><span class="line">​</span><br><span class="line"># 修改视图的数据</span><br><span class="line">UPDATE my_v4 <span class="keyword">SET</span> last_name <span class="operator">=</span><span class="string">&#x27;梦姑&#x27;</span> <span class="keyword">WHERE</span> last_name<span class="operator">=</span><span class="string">&#x27;虚竹&#x27;</span>;</span><br><span class="line">  </span><br><span class="line"># 删除视图的数据</span><br><span class="line"><span class="keyword">DELETE</span> <span class="keyword">FROM</span> my_v4;</span><br></pre></td></tr></table></figure>

<p>某些视图不能更新包含以下关键字的sql语句：分组函数、distinct、group  by、having、union或者union all。</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"># 常量视图</span><br><span class="line"><span class="keyword">Select</span> 中包含子查询</span><br><span class="line"><span class="keyword">join</span></span><br><span class="line"><span class="keyword">from</span> 一个不能更新的视图</span><br><span class="line"><span class="keyword">where</span> 子句的子查询引用了 <span class="keyword">from</span> 子句中的表</span><br><span class="line"># 视图逻辑的更新</span><br><span class="line"># 方式一：</span><br><span class="line"><span class="keyword">CREATE</span> <span class="keyword">OR</span> REPLACE <span class="keyword">VIEW</span> test_v7</span><br><span class="line"><span class="keyword">AS</span></span><br><span class="line"><span class="keyword">SELECT</span> last_name <span class="keyword">FROM</span> employees</span><br><span class="line"><span class="keyword">WHERE</span> employee_id<span class="operator">&gt;</span><span class="number">100</span>;</span><br><span class="line"># 方式二:</span><br><span class="line"><span class="keyword">ALTER</span> <span class="keyword">VIEW</span> test_v7</span><br><span class="line"><span class="keyword">AS</span></span><br><span class="line"><span class="keyword">SELECT</span> employee_id <span class="keyword">FROM</span> employees;</span><br><span class="line">​</span><br><span class="line"><span class="keyword">SELECT</span> <span class="operator">*</span> <span class="keyword">FROM</span> test_v7;</span><br><span class="line"># 视图的删除</span><br><span class="line"><span class="keyword">DROP</span> <span class="keyword">VIEW</span> test_v1,test_v2,test_v3;</span><br><span class="line"># 视图结构的查看  </span><br><span class="line"><span class="keyword">DESC</span> test_v7;</span><br><span class="line"><span class="keyword">SHOW</span> <span class="keyword">CREATE</span> <span class="keyword">VIEW</span> test_v7;</span><br></pre></td></tr></table></figure>

    </div>

    
    
    

    <footer class="post-footer">
          <div class="post-tags">
              <a href="/GameWill.github.io/tags/MySQL/" rel="tag"># MySQL</a>
              <a href="/GameWill.github.io/tags/MySQL%E5%9F%BA%E7%A1%80/" rel="tag"># MySQL基础</a>
          </div>

        

          <div class="post-nav">
            <div class="post-nav-item">
            </div>
            <div class="post-nav-item">
                <a href="/GameWill.github.io/2021/11/01/MySQL%E9%AB%98%E7%BA%A7/" rel="next" title="MySQL高级">
                  MySQL高级 <i class="fa fa-chevron-right"></i>
                </a>
            </div>
          </div>
    </footer>
  </article>
</div>






</div>
  </main>

  <footer class="footer">
    <div class="footer-inner">


<div class="copyright">
  &copy; 
  <span itemprop="copyrightYear">2022</span>
  <span class="with-love">
    <i class="fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">Little Will</span>
</div>
<div class="wordcount">
  <span class="post-meta-item">
    <span class="post-meta-item-icon">
      <i class="fa fa-chart-line"></i>
    </span>
    <span title="Symbols count total">90k</span>
  </span>
  <span class="post-meta-item">
    <span class="post-meta-item-icon">
      <i class="fa fa-coffee"></i>
    </span>
    <span title="Reading time total">1:22</span>
  </span>
</div>
  <div class="powered-by">Powered by <a href="https://hexo.io/" rel="noopener" target="_blank">Hexo</a> & <a href="https://theme-next.js.org/pisces/" rel="noopener" target="_blank">NexT.Pisces</a>
  </div>

    </div>
  </footer>

  
  <script src="https://cdn.jsdelivr.net/npm/animejs@3.2.1/lib/anime.min.js" integrity="sha256-XL2inqUJaslATFnHdJOi9GfQ60on8Wx1C2H8DYiN1xY=" crossorigin="anonymous"></script>
<script src="/GameWill.github.io/js/comments.js"></script><script src="/GameWill.github.io/js/utils.js"></script><script src="/GameWill.github.io/js/motion.js"></script><script src="/GameWill.github.io/js/next-boot.js"></script>

  
<script src="https://cdn.jsdelivr.net/npm/hexo-generator-searchdb@1.4.0/dist/search.js" integrity="sha256-vXZMYLEqsROAXkEw93GGIvaB2ab+QW6w3+1ahD9nXXA=" crossorigin="anonymous"></script>
<script src="/GameWill.github.io/js/third-party/search/local-search.js"></script>





  





<script src="/GameWill.github.io/live2dw/lib/L2Dwidget.min.js?094cbace49a39548bed64abff5988b05"></script><script>L2Dwidget.init({"pluginRootPath":"live2dw/","pluginJsPath":"lib/","pluginModelPath":"assets/","tagMode":false,"model":{"jsonPath":"/GameWill.github.io/live2dw/assets/wanko.model.json"},"display":{"position":"right","width":150,"height":300},"mobile":{"show":false},"log":false});</script></body>
</html>
